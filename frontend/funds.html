<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funds Transfer</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .schedule-options {
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Funds Transfer</h1>
        <form action="#" method="POST">
            <label for="from-account">From Account Number:</label>
            <input type="text" id="from-account" name="from-account" required><br>

            <label for="to-account">To Account Number:</label>
            <input type="text" id="to-account" name="to-account" required><br>

            <label for="amount">Transfer Amount:</label>
            <input type="number" id="amount" name="amount" required><br>

            <label for="transfer-type">Transfer Type:</label>
            <select id="transfer-type" name="transfer-type" required onchange="toggleScheduleOptions()">
                <option value="">Select Transfer Type</option>
                <option value="immediate">Immediate Transfer</option>
                <option value="scheduled">Scheduled Transfer</option>
            </select><br>

            <!-- Schedule options -->
            <div id="schedule-options" class="schedule-options">
                <label for="schedule-date">Schedule Date:</label>
                <input type="date" id="schedule-date" name="schedule-date" required min="" onchange="setMinTime()"><br>

                <label for="schedule-time">Schedule Time:</label>
                <input type="time" id="schedule-time" name="schedule-time" required><br>
            </div>

            <label for="description">Description (optional):</label>
            <textarea id="description" name="description" rows="3"></textarea><br>
            <br>
            <button type="submit">Transfer Funds</button>
        </form>
    </div>

    <script>
        // Set the minimum date for the date input to today
        function setMinDate() {
            const today = new Date();
            const dd = String(today.getDate()).padStart(2, '0');
            const mm = String(today.getMonth() + 1).padStart(2, '0'); // January is 0
            const yyyy = today.getFullYear();
            const minDate = `${yyyy}-${mm}-${dd}`;
            document.getElementById('schedule-date').setAttribute('min', minDate);
        }

        // Set the minimum time based on the selected date
        function setMinTime() {
            const scheduleDate = document.getElementById('schedule-date').value;
            const today = new Date();
            const selectedDate = new Date(scheduleDate);
            const timeInput = document.getElementById('schedule-time');

            if (selectedDate.toDateString() === today.toDateString()) {
                const hh = String(today.getHours()).padStart(2, '0');
                const mm = String(today.getMinutes()).padStart(2, '0');
                timeInput.setAttribute('min', `${hh}:${mm}`);
            } else {
                timeInput.removeAttribute('min'); // Allow all times for future dates
            }
        }

        function toggleScheduleOptions() {
            const transferType = document.getElementById('transfer-type').value;
            const scheduleOptions = document.getElementById('schedule-options');

            // Show or hide schedule options based on transfer type
            if (transferType === 'scheduled') {
                scheduleOptions.style.display = 'block';
                setMinDate(); // Set min date when scheduling is selected
            } else {
                scheduleOptions.style.display = 'none';
            }
        }
    </script>
</body>
</html>
